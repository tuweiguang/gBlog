# gBlog
main总体流程：
1. flag参数
2. 日志初始化
3. 配置文件初始化
4. 数据库初始化
5. gin初始化
6. 启动监听gin
7. 监听信号，优雅重启

项目进度：
- 2020.10.31 -- 2020.11.01: 
  1. Go1.14环境安装，MySQL和redis安装
  2. 工程目录初始化
  3. gin简单使用
  4. markdown转html
  
- 2020.11.02 -- 2020.11.08: 
  1. 整体框架构建完成
  2. 简单登陆
  
- 2020.11.09 -- 2020.11.15:
  1. 功能部分
      1. 静态文件加载
      2. 登录增加cookie机制(以后考虑引进jwt)
  
- 2020.11.16 -- 2020.11.22:
  1. 引入jwt认证机制(可选)
  2. 首页功能规划设计
  3. 模板函数定义
  4. 框架优化和功能开发
  
- 2020.11.23 -- 2020.11.29: 
  平时工作比较忙+周末写了2篇blog

- 2020.11.30 -- 2020.12.06
  1. 尝试写login登录界面
  2. session设置domain与浏览器访问时要一致问题查找
  3. session失效时，子frame出现login界面并不是整个页面跳转到login页面
  4. session失效时，子frame出现login界面并不是整个页面跳转到login页面，再次登陆，进入子frame看到的是上次缓存login界面

- 2020.12.07 -- 2020.12.13
  1. 功能部分开发
  2. 登陆接口优化
  3. 尝试使用新的前端框架，还是等以后吧

- 2020.12.14 -- 2020.12.20
  1. 功能开发（文章管理模块）
  2. 前端传文件+form字段（没解决）
  
- 2020.12.21 -- 2020.12.27
  1. 工作忙 + 周末探寻redis cluster相关(进度滞后)
 
- 2020.12.28 -- 2021.01.03
  0. 新年快乐
  1. 解决上次问题：前端传文件+form字段
  2. 添加文章
  3. 添加分类
  
- 2021.01.04 -- 2021.01.10
  1. 开发文章展示模块 
     - 文章列表部分 
     
- 2021.01.11 -- 2021.01.17
  1. 前端功能开发
  2. 解决2个前端问题，具体见`踩坑记录.md`

- 2021.01.18 -- 2021.01.24
  0. 生病,延迟

- 2021.01.25 -- 2021.01.31  
  1. 访问量统计功能
  2. 优化
  
- 2021.03.01 -- 2021.03.07
  1. 设计新的首页
  2. 增加一些特效

- 2021.03.08 -- 2021.04.05
  1. 代码优化
  2. 使用docker
  3. 在ecs上使用docker部署项目

- 2021.04.06 -- 2021.04.11
  1. 了解阿里云docker仓库,并且将gBlog打包成镜像,上传
  2. 增加访问源地区记录
  3. 加密加盐
  4. 修复bug：访问一次`/list.html`增加2次PV? `front-list.html`中body属性包含url()，空的地址，所以默认会请求当前uri：`/list.html`
   
- 2021.04.12 -- 2021.04.18
  1. 修复bug：从`/`路径然后到`/admin`路径可以直接访问。
   
- 2021.05.24 -- 2021.05.30
  1. 统计每日UV/PV
  2. 显示最近7天UV/PV
   
# 本周task
  1. 后台首页，显示访问来源图，ECS的各种指标数据。
  
# todolist  
- 未来
  1. 了解corba
  2. grace 重启 ✔
  3. 使用JWT，代替session
  4. 使用ini包
  5. 前后端分离
  6. 使用docker
  7. 引入etcd?
  8. psutil库采集主机信息
  9. 引入EFK技术栈,先收集nginx日志
  10. 加密加盐
  11. 引入es,添加搜索模块
  12. 了解Docker Compose
  13. access_log按日期分表
  14. gin标准输出写入日志
  15. 跨域问题
  16. 自动化更新脚本
  
- 改进  
  2. 每请求一次，若session存在，则继续延长。
  3. 再cookie中添加username选项。